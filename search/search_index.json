{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Practica 4.1 DNS","text":""},{"location":"#instalacion-del-servidor-dns","title":"Instalaci\u00f3n del servidor DNS.","text":"<p>Bind es una herramienta de software libre que se distribuye con la mayoria de plataformas Unix y Linux, se le puede conocer tambi\u00e9n como named.  Bind9 es la versi\u00f3n que vamos a utilizar en esta pr\u00e1ctica. </p> <p>Primero instalaremos el servidor DNS en Debian. Para ello deberemos ejecutar el siguiente comando para instalar el paquete</p> <p></p>"},{"location":"#configuracion-del-servidor","title":"Configuraci\u00f3n del servidor.","text":"<p>En esta pr\u00e1ctica, solo utilizaremos IPv4 y para indicarselo a Bind, editaremos su archivo de configuraci\u00f3n general named.  Primero accederemos a la ubicaci\u00f3n del archivo </p> <pre><code>cd /etc/default\n</code></pre> <p>Y para indicarle que solo utilize IPv4, modificaremos la l\u00ednea de \"OPTIONS...\" de la siguiente manera. </p> <p></p> <p>Ahora comprobaremos el archivo de configuraci\u00f3n inicial con el nombre de named.conf de Bind. Accederemos a su ubicaci\u00f3n con el siguiente comando. </p> <pre><code>cd /etc/bind\n</code></pre> <p>Y al consultarlo, nos debe de salir lo siguiente: </p> <p></p> <p>La funci\u00f3n de este archivo es incluir en el todos los archivos de configuraci\u00f3n que usaremos. </p>"},{"location":"#configuracion-namedconfoptions","title":"Configuracion named.conf.options","text":"<p>Como buena pr\u00e1ctica que es, haremos una copia de seguridad del archivo de configuraci\u00f3n por cada cambio que hagamos, con el siguiente comando: </p> <p></p> <p>Posterior a la copia, procederemos a editarlo e incluir los siguientes contenidos. - Para la seguridad, a\u00f1adiremos una lista de acceso de forma que solo puedan hacer b\u00fasqueda recursiva aquellas ip que hayamos autorizado previamente. Para ello escribiremos lo siguiente antes del bloque options {...}. Donde la X depender\u00e1 de nuestra red. </p> <p></p> <ul> <li>COnfiguraremos el servidor para que escuche consultas DNS en el puerto 53 y en la IP de su interfaz de la red privada. Deberemos colocar la IP de la interfaz de vuestra Debian. </li> <li>Tambi\u00e9n vamos a comentar la l\u00ednea que pone \"listen-on-v6 {any;}\" puesto que no vamos a responder a consultas tipo IPv6. </li> </ul> <p></p> <p>Para comprobar si la sintaxis es correcta y no hay fallos en la configuraci\u00f3n, lo haremos con el siguiente comando: </p> <pre><code>sudo named-checkconf\n</code></pre> <p>En el caso de no devolver nada, est\u00e1 todo correcto.</p> <p>Ahora reiniciaremos el servidor y comprobaremos el estado.</p> <p></p>"},{"location":"#configuracion-namedconflocal","title":"Configuracion named.conf.local","text":"<p>En este archivo configuraremos aspectos respecto a nuestras zonas que posteriormente crearemos. Vamos a declarar la zona \"deaw.es\". Aqu\u00ed indicaremos que el servidor DNS es maestro para esta zona y donde esta ubicado el archivo de zona que crearemos a continuaci\u00f3n. </p> <p></p>"},{"location":"#creacion-del-archivo-de-zona","title":"Creaci\u00f3n del archivo de zona.","text":"<p>Ahora crearemos el archivo de zona de resoluci\u00f3n directa justo en el directorio que previamente hemos indicado antes. Tenemos que escribir lo siguiente. </p> <p></p>"},{"location":"#creacion-del-archivo-de-zona-para-la-resolucion-inversa","title":"Creaci\u00f3n del archivo de zona para la resoluci\u00f3n inversa.","text":"<p>Es necesario que existan ambos archivo de zona. Uno para la resoluci\u00f3n directa y otro como su nombre indica para la inversa. Primero la inizializamos en named.conf.local. X es el tercer byte de vuestra red.</p> <p></p> <p>Y el siguiente archivo es el correspondiente a la configuraci\u00f3n de la resoluci\u00f3n inversa.</p> <p></p>"},{"location":"#comprobaciones-de-las-configuraciones","title":"Comprobaciones de las configuraciones.","text":"<p>Para la configuraci\u00f3n de la zona de resoluci\u00f3n directa :</p> <p></p> <p>Para la configuraci\u00f3n de la zona de resoluci\u00f3n inversa : Si todo est\u00e1 bien devolver\u00e1 el Ok, en caso contrario informar\u00e1 de ello. </p> <p></p> <p>Reiniciamos el servicio y comprobamos el estado:</p> <p></p> <p>Ahora desde el cliente usando dig, comprobaremos las resoluciones directas e inversas.  Directa</p> <p></p> <p>Inversa</p> <p></p>"},{"location":"#cuestiones-finales","title":"Cuestiones Finales.","text":"<p>Cuesti\u00f3n 1 \u00bfQu\u00e9 pasar\u00e1 si un cliente de una red diferente a la tuya intenta hacer uso de tu DNS de alguna manera, le funcionar\u00e1?\u00bfPor qu\u00e9, en qu\u00e9 parte de la configuraci\u00f3n puede verse?</p> <p>Denpender\u00e1 del DNS, si este tiene configurado un controll de acceso desde redes espec\u00edficas, el cliente no podr\u00e1 acceder. Esto est\u00e1 configurado en el archivo named.conf.options. </p> <p>Cuesti\u00f3n 2 \u00bfPor qu\u00e9 tenemos que permitir las consultas recursivas en la configuraci\u00f3n?</p> <p>Las consultas recursivas permiten que el servidos DNS busque respuestas en otros servidores en nombre del cliente, devolviendo la respuesta completa. </p> <p>Cuesti\u00f3n 3 El servidor DNS que acab\u00e1is de montar, \u00bfes autoritativo?\u00bfPor qu\u00e9?</p> <p>Un servidor autoritativo es aquel que gestiona una zona en espec\u00edfica y tiene los registros necesarios configurados en sus archivos de zona. Por lo que es autoritativo. </p> <p>Cuesti\u00f3n 4 \u00bfD\u00f3nde podemos encontrar la directiva $ORIGIN y para qu\u00e9 sirve?</p> <p>La directiva $Originse encuentra en los archivos de zona de un servidor DNS y sirve para establecer el dominio base que se usar\u00e1 en los registros relativos dentro del archivo. </p> <p>Cuesti\u00f3n 5 \u00bfUna zona es id\u00e9ntico a un dominio?</p> <p>No, ya que un dominio es una parte del espacio de nombres de DNS mientras que la zona es una parte del dominio gestionada por un servidor DNS.  Vamos a poner un ejemplo con el dominio example.com. Un servidor puede gestionar la zona para example.com y otro para la zona sub.example.com. </p> <p>Cuesti\u00f3n 6 \u00bfPueden editarse los archivos de zona de un servidor esclavo/secundario?</p> <p>No, ya que estos archivos no deben editarse directamente debido a que estos servidores obtienen las zonas desde un servidor maestro, por lo que editarlos directamente podr\u00eda causar errores. </p> <p>Cuesti\u00f3n 7 \u00bfPor qu\u00e9 podr\u00eda querer tener m\u00e1s de un servidor esclavo para una misma zona?</p> <p>Tener m\u00e1s de un servidor mejora la redundancia y la disponibilidad del servicio DNS. Esto genera alta disponibilidad, un balanceo de carga.</p> <p>Cuesti\u00f3n 8 \u00bfCu\u00e1ntos servidores ra\u00edz existen?</p> <p>Existen 13 servidores ra\u00edz principales en el sistema DNS, estos estan identificados de la 'A' a la 'M'. </p> <p>Cuesti\u00f3n 9 \u00bfQu\u00e9 es una consulta iterativa de referencia?</p> <p>Una consulta iterativa es cuando un servidor DNS proporciona la mejor respuesta posible sin buscar en otros servidores. </p> <p>Cuesti\u00f3n 10 En una resoluci\u00f3n inversa, \u00bfa qu\u00e9 nombre se mapear\u00eda la direcci\u00f3n IP 172.16.34.56?</p> <p>La resoluci\u00f3n inversa se realiza mediante registros PTR en una zona especial. La direcci\u00f3n dada se mapear\u00eda al nombre asociado en el archivo de zona inversa. </p>"},{"location":"#definiciones","title":"Definiciones.","text":"<p>Mapear una direcci\u00f3n : Significa establecer una asocuacion entre una direcci\u00f3n y un nombre / dominio o viceversa en el contexto DNS. </p> <p>DNS: Sistema de nombres de dominio que traduce nombres legibles (como www.google.com) en direcciones IP utilizadas por las computadoras.</p> <p>Consultas recursivas: Petici\u00f3n en la que un servidor DNS busca la respuesta completa en otros servidores en nombre del cliente.</p> <p>Servidor autoritativo: Servidor DNS que tiene informaci\u00f3n oficial sobre una zona y responde con datos precisos.</p> <p>Zona: Parte del espacio de nombres DNS que gestiona un servidor, incluyendo registros de uno o varios dominios.</p> <p>Dominio: Nombre \u00fanico dentro del sistema DNS que identifica un sitio o recurso, como example.com.</p> <p>Servidores ra\u00edz: Servidores DNS principales que manejan el inicio de las consultas DNS y dirigen a otros servidores.</p> <p>Consulta iterativa: Petici\u00f3n en la que un servidor DNS devuelve la mejor referencia conocida, sin buscar m\u00e1s respuestas.</p>"}]}